<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.neusoft.mapper.GoodsMapper">
<resultMap id="goodsMap" type="edu.neusoft.domain.Goods">
    <id column="gid" property="gid"/>
    <result property="goods_name" column="goods_name"/>
    <result property="goods_detail" column="goods_detail" />
    <result property="goods_img" column="goods_img"/>
    <result property="goods_price" column="goods_price"/>
</resultMap>
    <select id="showGoods" resultMap="goodsMap">
        select * from goods
    </select>

    <select id="getGoodsInfoById" resultMap="goodsMap">
        select u.uid,o.*
        from `order` o
        left join  user u on u.uid=o.uid
    </select>

    <update id="updateGoods" parameterType="edu.neusoft.domain.Goods">
        update goods
        <set>
            goods_name = #{goods_name},
            goods_img = #{goods_img},
            goods_price = #{goods_price}
        </set>
        where gid = #{gid}
    </update>

    <insert id="insertGoods" parameterType="edu.neusoft.domain.Goods">
        insert into goods values (0,#{goods_name},#{goods_detail},#{goods_img},#{goods_price})
    </insert>

    <delete id="deleteGoods">
        delete from goods where gid = #{gid}
    </delete>

</mapper>